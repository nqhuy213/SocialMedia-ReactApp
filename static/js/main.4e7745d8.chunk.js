(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{368:function(e,t,n){e.exports=n.p+"static/media/logo.43f9ef05.png"},388:function(e,t,n){e.exports=n(718)},396:function(e,t){},398:function(e,t){},412:function(e,t){},414:function(e,t){},442:function(e,t){},444:function(e,t){},445:function(e,t){},451:function(e,t){},453:function(e,t){},471:function(e,t){},473:function(e,t){},485:function(e,t){},488:function(e,t){},534:function(e,t){},538:function(e,t,n){},636:function(e,t,n){},637:function(e,t,n){},642:function(e,t,n){},643:function(e,t,n){},644:function(e,t,n){},672:function(e,t,n){},673:function(e,t,n){},674:function(e,t,n){},690:function(e,t,n){},691:function(e,t,n){},692:function(e,t,n){},710:function(e,t,n){},711:function(e,t,n){},712:function(e,t,n){},713:function(e,t,n){},714:function(e,t,n){},715:function(e,t,n){},717:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(56),o=n.n(c),i=n(48),l=n(21),u=(n(191),function(e){var t=localStorage.getItem(e);return t||""});var s=n(14);function m(e){return function(t){t({type:"LOGIN_SUCCESS",payload:e})}}var p=n(354),d=n.n(p),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://still-depths-32352.herokuapp.com";return function(t){try{return t({type:"OPEN_NEW_SOCKET",payload:d()(e)})}catch(n){}}},b=n(17),g=n.n(b),E=n(4),v=n(27),h="https://still-depths-32352.herokuapp.com",O=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a,r,c,o,i,l,s=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2?s[2]:void 0,r=s.length>3&&void 0!==s[3]?s[3]:{headers:{Accept:"application/json","Content-Type":"application/json"}},console.log("".concat(h)),c=u("token"),o=Object(E.a)(Object(E.a)({},r),{},{method:n,headers:Object(E.a)(Object(E.a)({},r.headers),{},{Authorization:c?"Bearer ".concat(c):""})}),a&&("GET"===n?t+="?"+j(a):r.headers?"application/json"===r.headers["Content-Type"]&&(o.body=JSON.stringify(a)):o.body=a),e.next=9,fetch("".concat(h).concat(t),o);case 9:return i=e.sent,e.next=12,i.json();case 12:return l=e.sent,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function j(e){return Object.keys(e).map((function(t){return""!==e[t].trim()?t+"="+e[t].trim():""})).join("&")}var x=function(e){return O("post","GET",e)};function y(e){return{type:"FETCH_NEWSFEED_FAILURE",payload:{error:e}}}function k(e){return function(t){return t(function(e){return{type:"ADD_NEW_POST",payload:{post:e}}}(e))}}var w=n(191),N=n.n(w),C=function(){var e=u("token");return N.a.verify(e,"key")._id};var S=n(15),_=n(49),I=(n(538),n(736)),F=n(731),P=n(734),T=n(720),A=n(730),D=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("auth/login","POST",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("auth/register","POST",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=n(51),L=Object(z.a)();var B=Object(l.h)((function(e){var t=e.openRegisterForm,n=(Object(i.a)(e,["openRegisterForm"]),Object(s.b)()),c=Object(a.useState)({email:"",password:""}),o=Object(S.a)(c,2),l=o[0],u=o[1],p=Object(a.useState)({}),d=Object(S.a)(p,2),b=d[0],h=d[1],O=Object(a.useState)(!1),j=Object(S.a)(O,2),x=j[0],y=j[1],k=function(e){var t=e.target.name;u(Object(E.a)(Object(E.a)({},l),{},Object(_.a)({},t,e.target.value)))},w=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h({}),l.email&&l.password){e.next=6;break}l.email||h((function(e){return Object(E.a)(Object(E.a)({},e),{},{email:!0,message:"Please fill in all the fields"})})),l.password||h((function(e){return Object(E.a)(Object(E.a)({},e),{},{password:!0,message:"Please fill in all the fields"})})),e.next=12;break;case 6:return y(!0),e.next=9,D(l);case 9:t=e.sent,y(!1),t.success?(a="token",r=t.token,localStorage.setItem(a,r),n(f()),n(m(t.token))):h({message:t.message});case 12:case"end":return e.stop()}var a,r}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{className:"form-container"},r.a.createElement(F.a,{loading:x,className:"form-entries",onSubmit:w,error:!!b.message},b.message&&r.a.createElement(P.a,{error:!0,header:b.message}),r.a.createElement(F.a.Field,{error:b.email},r.a.createElement("input",{placeholder:"Email",className:"login-entry",name:"email",type:"email",value:l.email,onChange:k})),r.a.createElement(F.a.Field,{error:b.password},r.a.createElement("input",{placeholder:"Password",type:"password",className:"login-entry",name:"password",value:l.password,onChange:k})),r.a.createElement(T.a,{className:"login-button",fluid:!0,type:"submit"},"Log in")),r.a.createElement("a",{href:"#",className:"forget-link"},"Forget password?"),r.a.createElement(A.a,null),r.a.createElement(T.a,{className:"open-register-button",onClick:t},"Create new account"))})),H=n(33),U=(n(636),n(737)),M=n(727);function W(e){var t=e.closeRegisterForm,n=Object(a.useState)({lastName:"",firstName:"",email:"",password:"",day:"Day",month:"Month",year:"Year",gender:"male"}),c=Object(S.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)({}),u=Object(S.a)(l,2),s=u[0],m=u[1],p=function(e){var t=e.target.name;i(Object(E.a)(Object(E.a)({},o),{},Object(_.a)({},t,e.target.value)))},d=function(e,t){var n=t.value;i(Object(E.a)(Object(E.a)({},o),{},{gender:n}))},f=function(){var e=!0;return m({}),""===o.lastName.trim()&&(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{lastName:!0})})),e=!1),""===o.firstName.trim()&&(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{firstName:!0})})),e=!1),""===o.email.trim()&&(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{email:!0})})),e=!1),""===o.password.trim()&&(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{password:!0})})),e=!1),e},b=function(){var e=Object(v.a)(g.a.mark((function e(n){var a,r,c,i,l,u,p,d,b,v,h,O,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.lastName,r=o.firstName,c=o.email,i=o.password,l=o.day,u=o.month,p=o.year,d=o.gender,b="".concat(u,"/").concat(l,"/").concat(p),v=Date.parse(b),f()){e.next=7;break}m((function(e){return Object(E.a)(Object(E.a)({},e),{},{global:"Please fill in all the fields"})})),e.next=19;break;case 7:if(v){e.next=13;break}console.log(b),console.log(v),m((function(e){return Object(E.a)(Object(E.a)({},e),{},{global:"Date of birth must a valid date"})})),e.next=19;break;case 13:return h=new Date(v),O={lastName:a,firstName:r,email:c,password:i,dateOfBirth:h,gender:d},e.next=17,R(O);case 17:(j=e.sent).success?t():m(Object(E.a)(Object(E.a)({},s),{},{global:j.message}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{className:"form-container"},r.a.createElement("h1",{className:"title"},"Register"),r.a.createElement("p",{className:"subtitle"},"Quick and easy"),r.a.createElement(A.a,null),r.a.createElement(F.a,{onSubmit:b,error:!!s.global},s.global&&r.a.createElement(P.a,{error:!0,header:s.global}),r.a.createElement(U.a,null,r.a.createElement(U.a.Row,{columns:2,className:"grid-row"},r.a.createElement(U.a.Column,null,r.a.createElement(F.a.Input,{error:s.lastName,placeholder:"Last Name",className:"register-entry",name:"lastName",onChange:p,value:o.lastName})),r.a.createElement(U.a.Column,null,r.a.createElement(F.a.Input,{error:s.firstName,placeholder:"First Name",className:"register-entry",value:o.firstName,name:"firstName",onChange:p}))),r.a.createElement(U.a.Row,{columns:1,className:"grid-row"},r.a.createElement(U.a.Column,null,r.a.createElement(F.a.Input,{error:s.email,placeholder:"Email",className:"register-entry",name:"email",type:"email",onChange:p,value:o.email}),r.a.createElement(F.a.Input,{error:s.password,placeholder:"Password",className:"register-entry",value:o.password,name:"password",type:"password",onChange:p}))),r.a.createElement("label",{className:"description-label"},"Date of Birth"),r.a.createElement(U.a.Row,{columns:3,className:"grid-row"},r.a.createElement(U.a.Column,{className:"grid-col"},r.a.createElement("select",Object(_.a)({name:"day",placeholder:"Day",className:"register-entry dob",value:o.day,onChange:p},"name","day"),r.a.createElement("option",{value:"day"},"Day"),Object(H.a)(Array(31)).map((function(e,t){return r.a.createElement("option",{key:t,value:t+1<10?"0".concat(t+1):"".concat(t+1)},t+1)})))),r.a.createElement(U.a.Column,{className:"grid-col"},r.a.createElement("select",{placeholder:"Month",className:"register-entry dob",value:o.month,onChange:p,name:"month"},r.a.createElement("option",{value:"Month"},"Month"),r.a.createElement("option",{value:"01"},"January"),r.a.createElement("option",{value:"02"},"February"),r.a.createElement("option",{value:"03"},"March"),r.a.createElement("option",{value:"04"},"April"),r.a.createElement("option",{value:"05"},"May"),r.a.createElement("option",{value:"06"},"June"),r.a.createElement("option",{value:"07"},"July"),r.a.createElement("option",{value:"08"},"August"),r.a.createElement("option",{value:"09"},"September"),r.a.createElement("option",{value:"10"},"October"),r.a.createElement("option",{value:"11"},"November"),r.a.createElement("option",{value:"12"},"December"))),r.a.createElement(U.a.Column,{className:"grid-col"},r.a.createElement("select",{placeholder:"Year",className:"register-entry dob",value:o.year,onChange:p,name:"year"},r.a.createElement("option",{value:"year"},"Year"),Object(H.a)(Array(100)).map((function(e,t){return r.a.createElement("option",{key:2020-t,value:"".concat(2020-t)},2020-t)}))))),r.a.createElement("label",{className:"description-label"},"Gender"),r.a.createElement(U.a.Row,{columns:2,className:"grid-row"},r.a.createElement(U.a.Column,null,r.a.createElement(M.a,{label:"Male",name:"gender",className:"register-entry",value:"male",checked:"male"===o.gender,onChange:d})),r.a.createElement(U.a.Column,null,r.a.createElement(M.a,{label:"Female",name:"gender",checked:"female"===o.gender,className:"register-entry",value:"female",onChange:d})))),r.a.createElement(T.a,{className:"register-button",type:"submit"},"Register")))}var G=n(733),q=n(7),K=n(6),V=n(376),J=(n(637),n(31));function Y(){var e=Object(q.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  position: relative;\n"]);return Y=function(){return e},e}function Q(){var e=Object(q.a)(["\n  text-decoration: none;\n  color: initial;\n  :hover{\n    text-decoration: none;\n    color: initial;\n  };\n  \n"]);return Q=function(){return e},e}var $=Object(K.b)(J.b)(Q()),X=K.b.div(Y());function Z(e){var t=e.src,n=e.name,a=e.online,c=e.meta,o=e.size,i=e.isAvatar,l=e.userId,u=e.disable;return r.a.createElement($,{to:"/profile/".concat(l),onClick:function(e){u&&e.preventDefault()}},r.a.createElement(X,null,r.a.createElement("div",{className:"avatar-img-container"},r.a.createElement(V.a,{src:t||"https://react.semantic-ui.com/images/wireframe/square-image.png",className:"avatar-img",size:o,circular:!0,avatar:i})),a?r.a.createElement("span",{className:"online-indicator"}):null,n||c?r.a.createElement("div",{className:"avatar-infomation-container"},n?r.a.createElement("span",{className:"avatar-name-label"},n):null,r.a.createElement("span",{className:"avatar-meta-label"},c)):null))}function ee(){var e=Object(q.a)(["\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 6px;\n  border-radius: 10px;\n  width: ",";\n  padding-right: ",";\n  :hover {\n    background-color:  rgba(204, 204, 204, 0.2);\n    cursor: pointer;\n  }\n"]);return ee=function(){return e},e}var te=K.b.div(ee(),(function(e){return e.fitted?"none":"100%"}),(function(e){return e.fitted?"6px":"none"}));function ne(e){return r.a.createElement(te,{onClick:e.onClick,fitted:e.fitted},e.children)}var ae=n(72);function re(){var e=Object(q.a)(["\n  box-shadow: none !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  background-color:  ",";\n  color: ",";\n  :hover{\n    background-color: ",";\n  }\n"]);return re=function(){return e},e}var ce=Object(K.b)(ae.a)(re(),(function(e){return!e.basic&&"#e8eaeb"}),(function(e){return e.primary&&e.theme.colors.primaryblue}),(function(e){return e.theme.colors.lightgray}));function oe(e){return r.a.createElement(ce,{primary:"true",basic:"true",name:"close",circular:!0,onClick:e.onClick})}var ie=n(201),le=n.n(ie);function ue(){var e=Object(q.a)(["\n  margin: 0px !important;\n  background-color: transparent !important;\n  padding: 0.5rem !important;\n  :hover{\n    background-color:  rgba(204, 204, 204, 0.2) !important;\n    cursor: pointer;\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(q.a)(["\n  color: ",";\n"]);return se=function(){return e},e}function me(){var e=Object(q.a)(["\n  border: none;\n  resize: none;\n  padding: 0;\n  background-color: transparent;\n  color: ",";\n  width: ",";\n  font-family: ",";\n  font-size: ",";\n  font-weight: 500;\n  overflow: hidden;\n  :focus {\n    outline: none;\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(q.a)(["\n  padding-left: 10px;\n  padding-right: 0px;\n  padding-top: 2px;\n  padding-bottom: 2px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background-color: ",";\n  border-radius: 15px;\n  width: ",";\n  height: 'fit-content';\n  display: flex;\n  align-items:center;\n"]);return pe=function(){return e},e}var de=K.b.section(pe(),(function(e){return e.theme.colors[e.color]}),(function(e){return!e.fluid&&"fit-content"})),fe=Object(K.b)((function(e){e.backgroundColor;var t=Object(i.a)(e,["backgroundColor"]);return r.a.createElement(le.a,t)}))(me(),(function(e){switch(e.color){case"darkgray":return"black !important";case"darkblue":return"white";default:return"black"}}),(function(e){return e.width}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.pxToRem(15)})),be=Object(K.b)(ae.a)(se(),(function(e){return e.theme.colors.primaryblue})),ge=Object(K.b)(T.a)(ue()),Ee=r.a.forwardRef((function(e,t){var n=e.backgroundcolor,a=e.width,c=e.rows,o=e.className,i=e.maxRows,l=e.fluid;return r.a.createElement(de,{color:n,fluid:l},r.a.createElement(fe,Object.assign({as:le.a,color:n,className:o,width:a,rows:c||1,maxRows:i,ref:t},e)),r.a.createElement(ge,{icon:!0,circular:!0,onClick:e.handleemojibuttonclick},r.a.createElement(be,{name:"smile",size:"large"})))}));Ee.defaultProps={width:"200px",backgroundcolor:"lightgray"};var ve=Ee;function he(){var e=Object(q.a)(["\n  margin: 0 !important;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n  background-color: "," !important;\n  border: none !important;\n  border-radius: 15px !important;\n  box-shadow: none !important;\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: center;\n  width: fit-content;\n  max-width: 70%;\n  color: ",";\n  word-break: break-word;\n  margin-bottom: ",";\n"]);return he=function(){return e},e}function Oe(){var e=Object(q.a)(["\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  flex-direction:column;\n  margin: 10px 0px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(q.a)(["\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  flex-direction:row;\n  margin: 10px 0px;\n\n"]);return je=function(){return e},e}var xe=K.b.div(je()),ye=K.b.div(Oe()),ke=Object(K.b)(I.a)(he(),(function(e){return e.host?e.theme.colors.primaryblue:e.theme.colors.lightgray}),(function(e){return e.host?"white":"black"}),(function(e){return e.host?"0px":"5px !important"}));function we(e){return e.host?r.a.createElement(ye,null,r.a.createElement(ke,{host:"true"},e.text)):r.a.createElement(xe,null,r.a.createElement(Z,{isAvatar:!0}),r.a.createElement(ke,null,e.text))}function Ne(e){var t=Object(a.useRef)(),n=Object(a.useCallback)((function(n){t.current&&t.current.disconnect(),t.current=new IntersectionObserver((function(t){t[0].isIntersecting&&e.bottomCallback()})),n&&t.current.observe(n)}),[]);return r.a.createElement(a.Fragment,null,r.a.Children.map(e.children,(function(t,a){return e.reverse?0==a?r.a.cloneElement(t,{ref:n}):t:r.a.Children.count(e.children)===a+1?r.a.cloneElement(t,{ref:n}):t})))}var Ce=n(202),Se=n.n(Ce);function _e(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){function n(n){t.current&&!t.current.contains(n.target)&&e.onOutsideClicked(n)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t]),r.a.createElement("div",{ref:t},e.children)}function Ie(){var e=Object(q.a)(["\n  height:300px !important;\n"]);return Ie=function(){return e},e}function Fe(){var e=Object(q.a)(["\n  position:absolute;\n  z-index: 100 !important;\n  top: 50px;\n  left: -10px;\n"]);return Fe=function(){return e},e}function Pe(){var e=Object(q.a)(["\n  height: 100%;\n  padding-right: 15px;\n  padding-left: 10px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]);return Pe=function(){return e},e}function Te(){var e=Object(q.a)(["\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 3px;\n  padding-right: 10px;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n"]);return Te=function(){return e},e}function Ae(){var e=Object(q.a)(["\n  background-color: white !important;\n"]);return Ae=function(){return e},e}function De(){var e=Object(q.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 3px;\n  padding-right: 10px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1) !important;\n"]);return De=function(){return e},e}function Re(){var e=Object(q.a)(["\n  background-color: white;\n  box-shadow: 0 12px 28px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n  height: 420px;\n  width: 320px;\n  border-radius: 7px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return Re=function(){return e},e}function ze(){var e=Object(q.a)([""]);return ze=function(){return e},e}function Le(){var e=Object(q.a)(["\n  display: none;\n"]);return Le=function(){return e},e}function Be(){var e=Object(q.a)(["\n  box-shadow: none !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  :hover {\n    background-color: #f0f2f5;\n  }\n  color: ",";\n"]);return Be=function(){return e},e}var He=Object(K.b)(ae.a)(Be(),(function(e){return e.theme.colors.primaryblue})),Ue=(K.b.input(Le()),K.b.div(ze())),Me=K.b.section(Re()),We=K.b.div(De()),Ge=Object(K.b)(oe)(Ae()),qe=K.b.div(Te()),Ke=K.b.section(Pe()),Ve=K.b.div(Fe());Object(K.b)(Se.a)(Ie());function Je(e){var t=Object(a.useState)(""),n=Object(S.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(S.a)(i,2),u=l[0],s=l[1],m=Object(a.useRef)(null),p=Object(a.useRef)(null),d=function(t){if(13===t.keyCode&&!1===t.shiftKey){if(t.preventDefault(),""===c.trim())return;var n={author:e.host._id,text:c};o(""),e.sendMessage({room:e.room,message:n})}},f=function(e){m.current.blur(),s(!u)};return Object(a.useEffect)((function(){m.current&&m.current.focus(),p.current&&(p.current.scrollTop=p.current.scrollHeight)}),[d]),r.a.createElement(Me,null,r.a.createElement(We,null,r.a.createElement(ne,{fitted:!0},r.a.createElement(Z,{size:"mini",name:"".concat(e.guest.firstName," ").concat(e.guest.lastName),userId:e.guest._id})),r.a.createElement(Ge,{primary:!0,basic:!0,onClick:e.onClose})),r.a.createElement(Ke,{ref:p},u?r.a.createElement(_e,{onOutsideClicked:f},r.a.createElement(Ve,null,r.a.createElement(Se.a,{onEmojiClick:function(e,t){o(c+t.emoji)},disableSearchBar:!0}))):null,r.a.createElement(Ne,{reverse:!0,bottomCallback:function(){return console.log("more chat")}},e.messages.map((function(t){var n;return n=t.author===e.host._id,r.a.createElement(Ue,{key:t._id},r.a.createElement(we,{host:n,text:t.text}))})))),r.a.createElement(qe,null,r.a.createElement(ve,{ref:m,maxRows:5,rows:1,backgroundcolor:"lightgray",placeholder:"Aa",onKeyDown:d,onChange:function(e){o(e.target.value)},value:c,handleemojibuttonclick:f}),r.a.createElement(He,{name:"images",size:"large",circular:!0})))}function Ye(){var e=Object(a.useState)({registerForm:!1}),t=Object(S.a)(e,2),n=t[0],c=t[1],o=function(){c(Object(E.a)(Object(E.a)({},n),{},{registerForm:!1}))};return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"login-form-container"},r.a.createElement(B,{openRegisterForm:function(){return c(Object(E.a)(Object(E.a)({},n),{},{registerForm:!0}))}})),r.a.createElement(G.a,{size:"mini",basic:!0,dimmer:"inverted",open:n.registerForm,onClose:o},r.a.createElement(W,{closeRegisterForm:o})))}Je.defaultProps={host:{_id:"5f659cec480b0435a073729c",lastName:"Harvey",firstName:"Nguyen",email:"nqhuy213@gmail.com"},guest:{_id:"5f659cec480b0435a073729c",lastName:"Harvey",firstName:"Nguyen",email:"nqhuy213@gmail.com"}};n(642);var Qe=n(368),$e=n.n(Qe),Xe=n(735);n(643);function Ze(e){var t=e.activePage,n=(e.handleChangePage,Object(a.useState)(Object(_.a)({},t,!0))),c=Object(S.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){return i(Object(_.a)({},t,!0))}),[t]),r.a.createElement(a.Fragment,null,r.a.createElement(J.b,{to:"/",className:"link-button"},r.a.createElement(T.a,{icon:!0,className:o.home?"navbar-item tab-icon selected":"navbar-item tab-icon",name:"home"},r.a.createElement(ae.a,{name:"home",size:"large",className:o.home?"tabbar-item selected":"tabbar-item"}),o.home?r.a.createElement(A.a,{className:"selected-indicator"}):null)),r.a.createElement(J.b,{to:"/watch",className:"link-button"},r.a.createElement(T.a,{icon:!0,className:o.watch?"navbar-item tab-icon selected":"navbar-item tab-icon",name:"watch"},r.a.createElement(ae.a,{name:"youtube play",size:"large",className:o.watch?"tabbar-item selected":"tabbar-item"}),o.watch?r.a.createElement(A.a,{className:"selected-indicator"}):null)),r.a.createElement(J.b,{to:"/marketplace",className:"link-button"},r.a.createElement(T.a,{icon:!0,className:o.marketplace?"navbar-item tab-icon selected":"navbar-item tab-icon",name:"marketplace"},r.a.createElement(ae.a,{name:"warehouse",size:"large",className:o.marketplace?"tabbar-item selected":"tabbar-item"}),o.marketplace?r.a.createElement(A.a,{className:"selected-indicator"}):null)),r.a.createElement(J.b,{to:"/group",className:"link-button"},r.a.createElement(T.a,{icon:!0,className:o.group?"navbar-item tab-icon selected":"navbar-item tab-icon",name:"group"},r.a.createElement(ae.a,{name:"group",size:"large",className:o.group?"tabbar-item selected":"tabbar-item"}),o.group?r.a.createElement(A.a,{className:"selected-indicator"}):null)),r.a.createElement(J.b,{to:"/game",className:"link-button"},r.a.createElement(T.a,{icon:!0,className:o.game?"navbar-item tab-icon selected":"navbar-item tab-icon",name:"game"},r.a.createElement(ae.a,{name:"gamepad",size:"large",className:o.game?"tabbar-item selected":"tabbar-item"}),o.game?r.a.createElement(A.a,{className:"selected-indicator"}):null)))}n(644);var et=n(732);function tt(e){var t=Object(a.useState)(!1),n=Object(S.a)(t,2),c=n[0],o=n[1],i=r.a.createElement(ae.a,{name:e.icon,className:c?"popup-trigger-button selected":"popup-trigger-button",circular:!0,onClick:function(e){o(!c)},size:"large"});return r.a.createElement(et.a,{trigger:i,open:c,basic:!0,className:"popup-panel-container"},r.a.createElement(_e,{onOutsideClicked:function(t){t.target.className.includes(e.icon)||o(!1)}},r.a.createElement("div",{className:"popup-panel-wrapper"},e.children)))}n(672);function nt(e){return r.a.createElement("div",{className:"popup-button-group"},e.children)}n(673),n(674);function at(e){return r.a.createElement(ne,null,r.a.createElement("div",{className:"panel-button-container",onClick:e.onClick},r.a.createElement("div",{className:"panel-button-icon-container"},r.a.createElement(ae.a,{className:"panel-button-icon",name:e.icon?e.icon:"facebook",circular:!0,size:"large"})),r.a.createElement("div",{className:"panel-button-infomation-container"},r.a.createElement("span",{className:"panel-button-title-label"},e.title||"title"),r.a.createElement("span",{className:"panel-button-meta-label"},e.meta))))}function rt(e){var t=Object(s.c)((function(e){return e.Auth.user})),n=Object(s.c)((function(e){return e.Socket.socket})),c=Object(s.b)();Object(a.useEffect)((function(){}),[n]);return r.a.createElement(a.Fragment,null,r.a.createElement(ne,null,r.a.createElement(Z,{meta:"View your profile",size:"tiny",userId:t._id})),r.a.createElement(A.a,{className:"custom-divider"}),r.a.createElement(at,{icon:"comment alternate",title:"Provide feedback",meta:"Help us improve the new Facebook"}),r.a.createElement(A.a,{className:"custom-divider"}),r.a.createElement(at,{icon:"setting",title:"Settings & Privacy"}),r.a.createElement(at,{icon:"question circle",title:"Help & Support"}),r.a.createElement(at,{icon:"arrow alternate circle left",title:"Switch to Classic Facebook for 48 Hours",meta:"Starting in September, the classic Facebook will no longer be available"}),r.a.createElement(at,{icon:"log out",title:"Log Out",onClick:function(){c((function(e){e({type:"LOGOUT_SUCCESS"})})),c(function(e){return function(t){return e.disconnect(),t({type:"CLOSE_SOCKET",payload:null})}}(n)),localStorage.removeItem("token"),window.location.reload()}}))}function ct(){var e=Object(q.a)(["\n  position: relative !important;\n  border-radius: 20px;\n  padding-right: 10px;\n  padding-left: 4px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  font-weight: 600;\n  margin-left: 10px !important;\n  margin-right: 10px !important;\n  :hover{\n    background-color: ",";\n    cursor: pointer;\n  }\n  background-color: ",";\n  color: ","\n"]);return ct=function(){return e},e}var ot=K.b.div(ct(),(function(e){return e.selected?e.theme.colors.deEmphasizedBlueHoverButton:e.theme.colors.popupHoverBackground}),(function(e){return e.selected?e.theme.colors.deEmphasizedBlueButton:"transparent"}),(function(e){return e.selected?e.theme.colors.primaryblue:"black"}));function it(e){var t=e.activePage,n=e.handleChangePage,a=Object(s.c)((function(e){return e.Auth.user}));return r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"left-flex"},r.a.createElement("img",{alt:"logo-image",src:$e.a,className:"navbar-item logo-img"}),r.a.createElement(Xe.a,{className:"navbar-item search-box"})),r.a.createElement("div",{className:"middle-flex tabbar"},r.a.createElement(Ze,{activePage:t,handleChangePage:n})),r.a.createElement("div",{className:"right-flex"},a?r.a.createElement("a",{href:"/profile/".concat(a._id)},r.a.createElement(ot,{icon:!0,labelPosition:"left",circular:!0,selected:"profile"===t},r.a.createElement(V.a,{src:"https://react.semantic-ui.com/images/wireframe/square-image.png",avatar:!0}),a.firstName)):null,r.a.createElement(nt,null,r.a.createElement(tt,{icon:"bars"},r.a.createElement("h1",null,"ALo")),r.a.createElement(tt,{icon:"facebook messenger"},r.a.createElement("h1",null,"ALo")),r.a.createElement(tt,{icon:"bell"},r.a.createElement("h1",null,"ALo")),r.a.createElement(tt,{icon:"caret down"},r.a.createElement(rt,null)))))}n(690),n(691);function lt(e){var t=e.openPostForm;return r.a.createElement(I.a,{className:"ask-post-box-wrapper"},r.a.createElement("div",{className:"avatar-container"},r.a.createElement(V.a,{src:"https://react.semantic-ui.com/images/wireframe/square-image.png",className:"avatar-img",circular:!0})),r.a.createElement("div",{className:"ask-button-container"},r.a.createElement(T.a,{className:"ask-button",fluid:!0,onClick:t},r.a.createElement("span",null,"What are your thinking?"))))}n(692);var ut=n(729);function st(){var e=Object(q.a)(["\n  display: none;\n"]);return st=function(){return e},e}function mt(){var e=Object(q.a)(["\n  box-shadow: none !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  :hover{\n    background-color: #f0f2f5;\n  }\n"]);return mt=function(){return e},e}function pt(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 50%;\n"]);return pt=function(){return e},e}function dt(){var e=Object(q.a)(["\n  margin: 0;\n  width: 100%;\n"]);return dt=function(){return e},e}function ft(){var e=Object(q.a)(["\n  border: 1px solid lightgrey;\n  height: 60px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 15px;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1), 0 1px 1px rgba(0, 0, 0, 0.1);\n"]);return ft=function(){return e},e}var bt=K.b.section(ft()),gt=K.b.h4(dt()),Et=K.b.div(pt()),vt=Object(K.b)(ae.a)(mt()),ht=K.b.input(st()),Ot=function(e){var t=Object(a.useRef)(null);return r.a.createElement(bt,null,r.a.createElement(gt,null,"Add to Your Post"),r.a.createElement(Et,null,r.a.createElement(vt,{size:"large",name:"video",color:"violet",circular:!0,onClick:function(){}}),r.a.createElement(vt,{size:"large",name:"images",color:"green",circular:!0,onClick:function(e){t.current.click()}}),r.a.createElement(ht,{type:"file",id:"img",name:"img",accept:"image/*",ref:t,onChange:function(t){e.handleImageChosen(t)}}),r.a.createElement(vt,{size:"large",name:"tags",color:"blue",circular:!0,onClick:function(){}}),r.a.createElement(vt,{size:"large",name:"point",color:"red",circular:!0,onClick:function(){}})))},jt=function(e){return O("upload","POST",e,{})};n(693);function xt(){var e=Object(q.a)(["\n  resize: none !important;\n  border: none !important;\n  font-size: 25px !important;\n  height: ",";\n  padding: 0 !important;\n  margin-top: 20px !important;\n"]);return xt=function(){return e},e}function yt(){var e=Object(q.a)(["\n  margin-bottom: 1.5rem;\n"]);return yt=function(){return e},e}function kt(){var e=Object(q.a)(["\n  position:relative;\n  max-height: fit-content;\n  max-width: fit-content;\n  left: 94%;\n  top: 33px;\n  z-index: 2;\n"]);return kt=function(){return e},e}function wt(){var e=Object(q.a)(["\n  position: relative;\n"]);return wt=function(){return e},e}function Nt(){var e=Object(q.a)(["\n  margin-left: auto;\n"]);return Nt=function(){return e},e}function Ct(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items:center;\n"]);return Ct=function(){return e},e}var St=K.b.div(Ct()),_t=K.b.div(Nt()),It=K.b.h1(wt()),Ft=K.b.div(kt()),Pt=Object(K.b)(V.a)(yt()),Tt=Object(K.b)((function(e){e.hasImage;var t=Object(i.a)(e,["hasImage"]);return r.a.createElement(ut.a,t)}))(xt(),(function(e){return e.hasImage?"none":"200px"}));function At(e){var t=e.closePostForm,n=e.user,c=Object(s.b)(),o=Object(a.useState)(""),i=Object(S.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(""),p=Object(S.a)(m,2),d=p[0],f=p[1],b=Object(a.useState)(null),E=Object(S.a)(b,2),h=E[0],j=E[1],x=function(){var e=Object(v.a)(g.a.mark((function e(){var n,a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=7;break}return(a=new FormData).append("image",h),e.next=5,jt(a);case 5:(r=e.sent).success&&(n="".concat("https://still-depths-32352.herokuapp.com","/").concat(r.data.image.filename));case 7:return e.next=9,O("post","POST",{description:l,imageURL:n});case 9:(o=e.sent).success&&(c(k(o.data.result)),t());case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{className:"post-form-wrapper"},r.a.createElement(St,null,r.a.createElement(It,{className:"title"},"Create Post"),r.a.createElement(_t,null,r.a.createElement(oe,{onClick:t}))),r.a.createElement(A.a,null),r.a.createElement(Z,{src:"https://react.semantic-ui.com/images/wireframe/square-image.png",name:"".concat(n.firstName," ").concat(n.lastName)}),r.a.createElement(F.a,{onSubmit:x},r.a.createElement(Tt,{hasImage:!!d,placeholder:"What are your thinking?",onChange:function(e){u(e.target.value)},value:l}),d?r.a.createElement(a.Fragment,null,r.a.createElement(Ft,null,r.a.createElement(oe,{onClick:function(){return f("")}})),r.a.createElement(Pt,{tabIndex:0,src:d,fluid:!0})):null,r.a.createElement(Ot,{postImage:d,handleImageChosen:function(e){var t=new FileReader;e.target.files[0]&&(j(e.target.files[0]),t.readAsDataURL(e.target.files[0]),t.onloadend=function(){f(t.result)}),e.target.value=null}}),r.a.createElement(T.a,{className:"post-button",type:"submit",fluid:!0,disabled:""===l.trim()&&""===d.trim()},"Post")))}n(710),n(711);var Dt=n(144),Rt=n.n(Dt);function zt(){var e=Object(q.a)(["\n  color: ",";\n"]);return zt=function(){return e},e}Object(K.b)(ae.a)(zt(),(function(e){return e.theme.colors.primaryblue}));var Lt=function(){return r.a.createElement(ae.a,{name:"like",size:"small",color:"red"})},Bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C(),n=e.likes.map((function(e){return e.likedBy.toString()}));return n.includes(t)};n(712);function Ht(){var e=Object(q.a)(["\n  font-size: 0.9rem;\n  color: rgb(82, 81, 81);\n"]);return Ht=function(){return e},e}function Ut(){var e=Object(q.a)(["\n  display: flex;\n  padding-left: 10px;\n  padding-top: 5px;\n  align-items: flex-end;\n"]);return Ut=function(){return e},e}function Mt(){var e=Object(q.a)(["\n  font-size: 15px;\n  line-height: 20px;\n  word-spacing: 1px;\n  word-break: break-word;\n"]);return Mt=function(){return e},e}function Wt(){var e=Object(q.a)(["\n  font-weight: 600;\n\n"]);return Wt=function(){return e},e}function Gt(){var e=Object(q.a)(["\n  margin: 0 !important;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n  background-color: "," !important;\n  border: none !important;\n  border-radius: 17px !important;\n  box-shadow: none !important;\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: center;\n  width: fit-content;\n  resize: both;\n  max-width: 70%;\n"]);return Gt=function(){return e},e}function qt(){var e=Object(q.a)(["\n  color: ",";\n"]);return qt=function(){return e},e}function Kt(){var e=Object(q.a)(["\n  color: ",";\n  \n"]);return Kt=function(){return e},e}function Vt(){var e=Object(q.a)(["\n  font-size: 0.9rem;\n  font-weight: 700;\n  margin-right: 4px;\n  margin-left: 4px;\n  :hover{\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]);return Vt=function(){return e},e}function Jt(){var e=Object(q.a)(["\n  font-size: 0.9rem;\n"]);return Jt=function(){return e},e}function Yt(){var e=Object(q.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: white;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1), 0 1px 1px rgba(0, 0, 0, 0.1);\n  padding-left: 5px;\n  padding-right: 5px;\n  border-radius: 15px;\n  bottom: -8px ;\n  right: -8px;\n"]);return Yt=function(){return e},e}function Qt(){var e=Object(q.a)(["\n  display: grid;\n  grid-template-columns: 50px auto;\n"]);return Qt=function(){return e},e}var $t=K.b.div(Qt()),Xt=K.b.section(Yt()),Zt=K.b.span(Jt()),en=K.b.div(Vt()),tn=K.b.div(Kt(),(function(e){return e.isLiked?e.theme.colors.primaryblue:e.theme.colors.darkgray})),nn=K.b.div(qt(),(function(e){return e.theme.colors.darkgray})),an=Object(K.b)(I.a)(Gt(),(function(e){return e.theme.colors.lightgray})),rn=K.b.span(Wt()),cn=K.b.span(Mt()),on=K.b.div(Ut()),ln=K.b.span(Ht());function un(e){var t=e.comment;return Object(a.useEffect)((function(){}),[e.isLiked]),r.a.createElement($t,null,r.a.createElement(Z,{src:"",userId:t.postedBy._id}),r.a.createElement("div",null,r.a.createElement(an,null,r.a.createElement(rn,null,t.postedBy.firstName+" "+t.postedBy.lastName),r.a.createElement(cn,null,t.text),t.likes.length>0?r.a.createElement(Xt,null,r.a.createElement(Lt,null),r.a.createElement(Zt,null,t.likes.length)):null),r.a.createElement(on,null,r.a.createElement(en,{onClick:function(){e.likeComment({userId:C(),postId:t.postId,commentId:t._id})}},r.a.createElement(tn,{isLiked:Bt(t)},"Like")),r.a.createElement(en,null,r.a.createElement(nn,null,"Reply")),r.a.createElement(ln,null,Rt()(t.createdAt).fromNow()))))}var sn=n(377);function mn(e){var t=e.post,n=e.likePost,c=e.commentPost,o=e.likeComment,i=Object(a.useState)(""),l=Object(S.a)(i,2),u=l[0],s=l[1],m=Object(a.useState)(0===t.comments.length),p=Object(S.a)(m,2),d=p[0],f=p[1],b=function(){var e=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({userId:C(),postId:t._id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){c({userId:C(),postId:t._id,commentData:{text:u}}),s("")},h=function(e){f(!d)},O=t.comments.map((function(e){return r.a.createElement("div",{key:e._id,className:"comment-item-container"},r.a.createElement(un,{comment:e,likeComment:o}))}));return r.a.createElement(I.a,{className:"post-item-wrapper"},r.a.createElement(Z,{src:"https://react.semantic-ui.com/images/wireframe/square-image.png",name:t.postedBy.firstName+" "+t.postedBy.lastName,meta:Rt()(t.createdAt).fromNow(),userId:t.postedBy._id}),r.a.createElement("div",{className:"post-description-container"},t.description),t.imageURL?r.a.createElement(V.a,{className:"post-image-wrapper",src:t.imageURL}):null,r.a.createElement("div",{className:"post-like-number"},r.a.createElement("div",{id:"post-like-label"},r.a.createElement(Lt,null),r.a.createElement("span",null,t.likes.length)),r.a.createElement("span",{className:"post-comment-number",onClick:h},t.comments.length," comments")),r.a.createElement("div",{className:"post-action-container"},r.a.createElement("div",{className:"post-action-wrapper"},r.a.createElement(T.a,{className:Bt(t)?"post-action-button liked":"post-action-button",fluid:!0,onClick:b},"Like"),r.a.createElement(T.a,{className:"post-action-button",fluid:!0,onClick:h},"Comment"))),d?r.a.createElement("div",{className:"comment-section-container"},O,r.a.createElement("div",{className:"comment-form-container"},r.a.createElement(sn.a,{className:"comment-input",value:u,onChange:function(e){s(e.target.value)},placeholder:"Write your comment",onKeyDown:function(e){if(13===e.keyCode&&!1===e.shiftKey){if(e.preventDefault(),""===u.trim())return;E()}}}))):null)}var pn=function(e){var t=e.items,n=e.likePost,a=e.commentPost,c=e.likeComment,o=e.getMorePost,i=t.map((function(e){return r.a.createElement("div",{key:e._id,className:"post-item-container"},r.a.createElement(mn,{post:e,likePost:n,commentPost:a,likeComment:c}))}));return r.a.createElement("div",{className:"post-list-wrapper"},r.a.createElement(Ne,{bottomCallback:o},i))};function dn(){var e=Object(s.c)((function(e){return e.NewsFeed.data.posts.items})),t=Object(s.c)((function(e){return e.Socket.socket})),n=(Object(s.c)((function(e){return e.NewsFeed.data.posts.nextCount})),Object(s.b)());return Object(a.useEffect)((function(){n((function(e){return e({type:"FETCH_NEWSFEED_BEGIN"}),x().then((function(t){e({type:"FETCH_NEWSFEED_SUCCESS",payload:t.data})})).catch((function(t){return e(y(t))}))})),t&&t.on("update_post",(function(e){n(function(e){return function(t){t(function(e){return{type:"UPDATE_POST_SUCCESS",payload:{post:e}}}(e))}}(e))}))}),[t,n]),{posts:e,likePost:function(e){var n=e.userId,a=e.postId;t.emit("like_post",{userId:n,postId:a})},commentPost:function(e){var n=e.userId,a=e.postId,r=e.commentData;t.emit("comment_post",{userId:n,postId:a,commentData:r})},likeComment:function(e){var n=e.userId,a=e.postId,r=e.commentId;t.emit("like_comment",{userId:n,postId:a,commentId:r})},getMorePost:function(){console.log("Get more post")}}}n(713),n(714);function fn(e){var t=e.user,n=e.onClick;return r.a.createElement(ne,{onClick:function(){n(t)}},r.a.createElement(Z,{disable:!0,online:!0,name:"".concat(t.firstName," ").concat(t.lastName)}))}function bn(e){var t=e.activeUsers,n=Object(s.b)(),c=Object(s.c)((function(e){return e.Auth.user})),o=Object(s.c)((function(e){return e.Socket.socket})),i=function(e){var t=[c._id,e._id];o.emit("join_chat",t)};return Object(a.useEffect)((function(){o&&c&&o.on("join_chat",(function(e){for(var t,a=e.chat,r=a.participants,o=0;o<r.length;o++){if(r[o]._id===c._id){r.splice(o,1);break}}1===r.length&&(t=r[0]),void 0===t&&(t=c),a.host=c,a.guest=t,n(function(e){return function(t){t({type:"OPEN_CHAT",payload:e})}}(a))}))}),[o,c]),r.a.createElement("div",{className:"active-user-bar-container"},r.a.createElement("h1",null,"Active users"),t.map((function(e){return r.a.createElement(fn,{key:e._id,user:e,onClick:i})})))}function gn(){var e={activeFriends:Object(s.c)((function(e){return e.NewsFeed.data.activeFriends}))}.activeFriends,t=dn(),n=t.posts,c=t.likePost,o=t.commentPost,i=t.likeComment,l=t.getMorePost,u=Object(a.useState)(!1),m=Object(S.a)(u,2),p=m[0],d=m[1],f=Object(s.c)((function(e){return e.Auth.user}));return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"page-container news-feed-page"},r.a.createElement("div",{className:"left-flex-container"}),r.a.createElement("div",{className:"middle-flex-container"},r.a.createElement("div",{className:"ask-post-box-container"},r.a.createElement(lt,{openPostForm:function(){return d(!0)}})),r.a.createElement("div",{className:"post-list-container"},r.a.createElement(pn,{items:n,likePost:c,commentPost:o,likeComment:i,getMorePost:l}))),r.a.createElement("div",{className:"right-flex-container"},r.a.createElement(bn,{activeUsers:e}))),r.a.createElement(G.a,{basic:!0,size:"tiny",dimmer:"inverted",open:p,onClose:function(){return d(!1)}},r.a.createElement(At,{user:f,closePostForm:function(){d(!1)}})))}n(715);function En(){return r.a.createElement("div",null)}var vn=n(8),hn=n.n(vn);function On(){var e=Object(q.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"]);return On=function(){return e},e}function jn(){var e=Object(q.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return jn=function(){return e},e}var xn=K.b.section(jn()),yn=K.b.div(On());function kn(e){return r.a.createElement(xn,null,e.chats.map((function(t,n){return r.a.createElement(yn,{key:n},r.a.createElement(Je,{room:t._id,host:t.host,guest:t.guest,messages:t.messages,onClose:function(){e.closeChatBox(t.guest)},sendMessage:e.sendMessage}))})))}function wn(){var e=Object(q.a)(["\n  position: fixed;\n  right: 0px;\n  bottom: 0px;\n  z-index: 10;\n"]);return wn=function(){return e},e}kn.propsTypes={chats:hn.a.array,closeChatBox:hn.a.func};var Nn=K.b.div(wn());function Cn(e){var t=e.page,n=e.activePage,c=Object(s.c)((function(e){return e.Socket.socket})),o=Object(s.b)(),i=Object(s.c)((function(e){return e.Chat.inbox}));Object(s.c)((function(e){return e.Auth.user}));Object(a.useEffect)((function(){c&&(c.emit("user_login",{userId:C()}),c.on("user_info",(function(e){o(function(e){return function(t){t({type:"FETCH_USER",payload:e})}}(e))})),c.on("active_friends",(function(e){var t;o((t=e,function(e){e({type:"FETCH_ACTIVE_FRIENDS",payload:t})}))})),c.on("friend_online",(function(e){var t;o((t=e,function(e){e({type:"UPDATE_ACTIVE_FRIEND",payload:t})}))})),c.on("friend_offline",(function(e){var t=e.userId;o(function(e){return function(t){t({type:"DELETE_ACTIVE_FRIEND",payload:e})}}(t))})),c.on("update_inbox",(function(e){var t,n=e.inbox;o((t=n,function(e){e({type:"UPDATE_CHAT",payload:t})}))})))}),[c]);return r.a.createElement(a.Fragment,null,r.a.createElement(it,{activePage:n}),r.a.createElement("div",{className:"page-container"},r.a.createElement(t,null)),i.length>0&&r.a.createElement(Nn,null,r.a.createElement(kn,{chats:i,closeChatBox:function(e){o(function(e){return function(t){t({type:"CLOSE_CHAT",payload:{guest:e}})}}(e))},sendMessage:function(e){var t=e.room,n=e.message;c.emit("send_chat",{room:t,message:n})}})))}var Sn={colors:{primaryblue:"#1877f2",primaryblueHover:"#2271da",darkgray:"#606770",lightgray:"#edeff0",popupButtonBackground:"#e8eaeb",popupHoverBackground:"#e0e0e2",pageBackground:"#F2F3F5",grayIcon:"#5e5e5e",deEmphasizedBlueButton:"#e7f3ff",deEmphasizedBlueHoverButton:"#dae7f5"},typography:{fontFamily:"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif",pxToRem:function(e){return"".concat(e/16,"rem")}}};function _n(){var e=Object(q.a)(["\n  display: none\n"]);return _n=function(){return e},e}function In(){var e=Object(q.a)(["\n  border: 5px white solid;\n  margin: 0 !important;\n  width: 150px !important;\n  height: 150px !important;\n"]);return In=function(){return e},e}function Fn(){var e=Object(q.a)(["\n  position: relative;\n  background-color: ",";\n  bottom: 50px;\n  right: -50px;\n  :hover {\n    background-color: ",";\n  }\n"]);return Fn=function(){return e},e}function Pn(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n"]);return Pn=function(){return e},e}var Tn=K.b.div(Pn()),An=Object(K.b)(T.a)(Fn(),(function(e){return"".concat(e.theme.colors.lightgray," !important")}),(function(e){return"".concat(e.theme.colors.popupHoverBackground," !important")})),Dn=Object(K.b)(V.a)(In()),Rn=K.b.input(_n());function zn(e){var t=Object(a.useRef)(null);return r.a.createElement(Tn,null,r.a.createElement(Dn,{src:e.src||"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"small",circular:!0}),"w"==e.auth?r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{circular:!0,icon:!0,onClick:e.openProfileImageForm},r.a.createElement(ae.a,{name:"camera"})),r.a.createElement(Rn,{type:"file",name:"img",id:"img",accept:"image/*",ref:t,onChange:function(t){e.handleProfileImageChosen()}})):null)}function Ln(){var e=Object(q.a)(["\n  position: relative;\n  float: right;\n  margin-right: 15px !important;\n  bottom: 50px;\n  background-color: ",";\n  :hover{\n    background-color: ",";\n  }\n"]);return Ln=function(){return e},e}function Bn(){var e=Object(q.a)(["\n  width: inherit;\n  height: inherit;\n"]);return Bn=function(){return e},e}function Hn(){var e=Object(q.a)(["\n  width: 900px;\n  height: 470px;\n"]);return Hn=function(){return e},e}var Un=K.b.div(Hn()),Mn=Object(K.b)(V.a)(Bn()),Wn=Object(K.b)(T.a)(Ln(),(function(e){return"".concat(e.theme.colors.lightgray," !important")}),(function(e){return"".concat(e.theme.colors.popupHoverBackground," !important")}));function Gn(e){return r.a.createElement(Un,null,r.a.createElement(Mn,{rounded:!0,src:e.src||"https://react.semantic-ui.com/images/wireframe/square-image.png"}),"w"==e.auth?r.a.createElement(Wn,null,r.a.createElement(ae.a,{name:"camera"}),"Edit Cover Photo"):null)}var qn=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("profile/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Kn(){var e=Object(q.a)(["\n  background-color: "," !important;\n  color: white !important;\n  :hover{\n    background-color: "," !important;\n  }\n"]);return Kn=function(){return e},e}var Vn=Object(K.b)(T.a)(Kn(),(function(e){return e.theme.colors.primaryblue}),(function(e){return e.theme.colors.primaryblueHover}));function Jn(e){var t=e.onClick;return r.a.createElement(Vn,{onClick:t},"Save")}function Yn(){var e=Object(q.a)(["\n  margin-left:auto;\n"]);return Yn=function(){return e},e}function Qn(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Qn=function(){return e},e}function $n(){var e=Object(q.a)(["\n  margin: 0px;\n"]);return $n=function(){return e},e}function Xn(){var e=Object(q.a)(["\n  margin-left:auto\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Zn=function(){return e},e}var ea=K.b.div(Zn()),ta=K.b.div(Xn()),na=K.b.h1($n()),aa=K.b.div(Qn()),ra=K.b.div(Yn());function ca(e){return r.a.createElement(I.a,null,r.a.createElement(ea,null,r.a.createElement(na,null,"Update Profile Image"),r.a.createElement(ta,null,r.a.createElement(oe,{onClick:e.closeProfileImageForm}))),r.a.createElement(A.a,null),r.a.createElement(zn,{src:""}),r.a.createElement(A.a,null),r.a.createElement(aa,null,r.a.createElement(ra,null,r.a.createElement(Jn,null))))}function oa(){var e=Object(q.a)(["\n  margin-top: 10px;\n  margin-right: auto;\n  margin-left: auto;\n  height: 40px;\n  width: 880px;\n  border-top:"," ;\n"]);return oa=function(){return e},e}function ia(){var e=Object(q.a)(["\n  font-size: 1.8rem;\n  font-weight: 700;\n  font-family: ",";\n"]);return ia=function(){return e},e}function la(){var e=Object(q.a)(["\n  width: fit-content;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative; \n  bottom: 130px;\n"]);return la=function(){return e},e}function ua(){var e=Object(q.a)(["\n  width: fit-content;\n  margin-left: auto;\n  margin-right: auto;\n"]);return ua=function(){return e},e}function sa(){var e=Object(q.a)(["\n  display: block;\n  height: 510px;\n"]);return sa=function(){return e},e}function ma(){var e=Object(q.a)(["\n  background-color: white;\n  display: block;\n  text-align: center;\n  width:100%;\n"]);return ma=function(){return e},e}var pa=K.b.div(ma()),da=K.b.div(sa()),fa=K.b.div(ua()),ba=K.b.div(la()),ga=K.b.span(ia(),(function(e){return e.theme.typography.fontFamily})),Ea=K.b.section(oa(),(function(e){return"2px solid ".concat(e.theme.colors.lightgray)}));function va(){var e=Object(l.g)().userId,t=Object(a.useState)(null),n=Object(S.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(["read"]),u=Object(S.a)(i,2),s=u[0],m=u[1],p=Object(a.useState)(!1),d=Object(S.a)(p,2),f=d[0],b=d[1],E=Object(a.useState)(null),h=Object(S.a)(E,2),O=(h[0],h[1]),j=Object(a.useState)(null),x=Object(S.a)(j,2),y=(x[0],x[1]),k=Object(a.useState)(null),w=Object(S.a)(k,2),N=(w[0],w[1],Object(a.useState)(null)),C=Object(S.a)(N,2),_=(C[0],C[1],function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(t);case 2:n=e.sent,console.log(n),o(n.data.user),m(n.data.auth);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){_(e)}),[m,o]);return r.a.createElement("div",{className:"page-container profile-page"},r.a.createElement(pa,null,r.a.createElement(da,null,r.a.createElement(fa,null,r.a.createElement(Gn,{auth:s,src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png"})),r.a.createElement(ba,null,r.a.createElement(zn,{auth:s,src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",handleProfileImageChosen:function(e){var t=new FileReader;e.target.files[0]&&(O(e.target.files[0]),t.readAsDataURL(e.target.files[0]),t.onloadend=function(){y(t.result)}),e.target.value=null},openProfileImageForm:function(){return b(!0)}}))),r.a.createElement(ga,null,c?c.firstName+" "+c.lastName:null),r.a.createElement(Ea,null)),r.a.createElement(G.a,{basic:!0,size:"tiny",dimmer:"inverted",open:f,onClose:function(){return b(!1)}},r.a.createElement(ca,{closeProfileImageForm:function(){return b(!1)}})))}var ha=u("token"),Oa=!!ha;var ja=Object(K.c)((function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.Auth.userLoggedIn})),n=Object(s.c)((function(e){return e.Socket.socket}));return Object(a.useEffect)((function(){Oa&&!t&&(e(m(ha)),e(f()))}),[t,n]),r.a.createElement(K.a,{theme:Sn},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},t||Oa?r.a.createElement(Cn,{activePage:"home",page:gn}):r.a.createElement(Ye,null)),r.a.createElement(l.b,{path:"/watch"},Oa?r.a.createElement(Cn,{activePage:"watch",page:En}):r.a.createElement(l.a,{to:"/"})),r.a.createElement(l.b,{path:"/marketplace"},Oa?r.a.createElement(Cn,{activePage:"marketplace",page:gn}):r.a.createElement(l.a,{to:"/"})),r.a.createElement(l.b,{path:"/group"},Oa?r.a.createElement(Cn,{activePage:"group",page:gn}):r.a.createElement(l.a,{to:"/"})),r.a.createElement(l.b,{path:"/game"},Oa?r.a.createElement(Cn,{activePage:"game",page:gn}):r.a.createElement(l.a,{to:"/"})),r.a.createElement(l.b,{path:"/profile/:userId"},Oa?r.a.createElement(Cn,{activePage:"profile",page:va}):r.a.createElement(l.a,{to:"/"}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(716),n(717);var xa=n(61),ya=n(374),ka={loading:!0,data:{posts:{items:[],nextCount:0,hasMore:!0},activeFriends:[]},error:null};var wa={socket:null,socketConnected:!1};var Na={token:null,userLoggedIn:!1,user:null};var Ca={inbox:[]};var Sa=Object(xa.combineReducers)({NewsFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_NEWSFEED_BEGIN":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"FETCH_NEWSFEED_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,data:Object(E.a)(Object(E.a)({},e.data),{},{posts:{items:t.payload.result,nextCount:1,hasMore:t.payload.hasMore}})});case"FETCH_NEWSFEED_MORE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,data:Object(E.a)(Object(E.a)({},e.data),{},{posts:{items:[].concat(Object(H.a)(e.data.posts.items),Object(H.a)(t.payload.result)),nextCount:e.data.state.nextCount++,hasMore:t.payload.hasMore}})});case"FETCH_NEWSFEED_FAILURE":return Object(E.a)(Object(E.a)({},ka),{},{loading:!1,error:t.payload.error});case"ADD_NEW_POST":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},{posts:Object(E.a)(Object(E.a)({},e.data.posts),{},{items:[t.payload.post].concat(Object(H.a)(e.data.posts.items))})})});case"UPDATE_POST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},{posts:Object(E.a)(Object(E.a)({},e.data.posts),{},{items:e.data.posts.items.map((function(e){return e._id===t.payload.post._id?Object(E.a)(Object(E.a)({},e),t.payload.post):Object(E.a)({},e)}))})})});case"FETCH_ACTIVE_FRIENDS":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},{activeFriends:t.payload})});case"UPDATE_ACTIVE_FRIEND":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},{activeFriends:[].concat(Object(H.a)(e.data.activeFriends),[t.payload])})});case"DELETE_ACTIVE_FRIEND":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},{activeFriends:Object(H.a)(e.data.activeFriends.filter((function(e){return e._id!==t.payload})))})});default:return e}},Socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"OPEN_NEW_SOCKET":return Object(E.a)(Object(E.a)({},e),{},{socket:t.payload,socketConnected:!0});case"CLOSE_SOCKET":return Object(E.a)(Object(E.a)({},e),{},{socket:null,socketConnected:!1});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGIN_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{token:t.payload,userLoggedIn:!0});case"LOGOUT_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{token:"",userLoggedIn:!1});case"FETCH_USER":return Object(E.a)(Object(E.a)({},e),{},{user:t.payload});default:return e}},Chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"OPEN_CHAT":return-1===(n=e.inbox.findIndex((function(e){return e.guest._id===t.payload.guest._id})))?e.inbox.length<3?Object(E.a)(Object(E.a)({},e),{},{inbox:[].concat(Object(H.a)(e.inbox),[t.payload])}):Object(E.a)(Object(E.a)({},e),{},{inbox:[].concat(Object(H.a)(e.inbox.slice(1)),[t.payload])}):e;case"UPDATE_CHAT":return Object(E.a)(Object(E.a)({},e),{},{inbox:e.inbox.map((function(e){return e._id===t.payload._id?Object(E.a)(Object(E.a)({},e),{},{messages:[].concat(Object(H.a)(e.messages),[t.payload.messages[t.payload.messages.length-1]])}):Object(E.a)({},e)}))});case"CLOSE_CHAT":var n=e.inbox.findIndex((function(e){return e.guest._id===t.payload.guest._id}));return Object(E.a)(Object(E.a)({},e),{},{inbox:[].concat(Object(H.a)(e.inbox.slice(0,n)),Object(H.a)(e.inbox.slice(n+1)))});default:return e}}}),_a=n(375),Ia=Object(xa.createStore)(Sa,Object(_a.composeWithDevTools)(Object(xa.applyMiddleware)(ya.a)));o.a.render(r.a.createElement(s.a,{store:Ia},r.a.createElement(J.a,{history:L},r.a.createElement(ja,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[388,1,2]]]);
//# sourceMappingURL=main.4e7745d8.chunk.js.map